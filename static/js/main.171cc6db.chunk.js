(this["webpackJsonppandemic-helper"]=this["webpackJsonppandemic-helper"]||[]).push([[0],{26:function(e,n,a){e.exports=a(43)},31:function(e,n,a){},40:function(e,n,a){},42:function(e,n,a){},43:function(e,n,a){"use strict";a.r(n);var t=a(1),c=a.n(t),o=a(17),r=a.n(o),l=(a(31),a(32),a(6)),i=a(12),u=a(45),m=a(44),s=a(7),d=a(8),f=(a(40),a(46)),b=function(e){var n=e.id,a=e.config,t=Object(s.b)(),o=Object(l.a)(t,2)[1];return c.a.createElement(f.a.Group,{controlId:"init.save-config"},c.a.createElement(m.a,{variant:"success",type:"submit",onClick:function(){return o({game:n,config:a})}},c.a.createElement(d.c,{size:24})," Start"))},E=[{name:"Vanilla",config:function(e){var n=e.id;return c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a.Group,{controlId:"init.game-config"},c.a.createElement("span",{className:"text-muted"},"No configuration options.")),c.a.createElement(b,{id:n,config:{}}))},engine:void 0},{name:"Legacy Season 1",config:function(e){var n=e.id;return c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a.Group,{controlId:"init.game-config"},c.a.createElement("span",{className:"text-muted"},"No configuration options.")),c.a.createElement(b,{id:n,config:{}}))},cities:[{name:"Algiers",color:"black",count:1},{name:"Atlanta",color:"blue",count:1},{name:"Baghdad",color:"black",count:1},{name:"Bangkok",color:"red",count:1},{name:"Beijing",color:"red",count:1},{name:"Bogot\xe1",color:"yellow",count:1},{name:"Buenos Aires",color:"yellow",count:1},{name:"Cairo",color:"black",count:1},{name:"Chennai",color:"black",count:1},{name:"Chicago",color:"blue",count:1},{name:"Delhi",color:"black",count:1},{name:"Essen",color:"blue",count:1},{name:"Ho Chi Minh City",color:"red",count:1},{name:"Hong Kong",color:"red",count:1},{name:"Istanbul",color:"black",count:1},{name:"Jakarta",color:"red",count:1},{name:"Johannesburg",color:"yellow",count:1},{name:"Karachi",color:"black",count:1},{name:"Khartoum",color:"yellow",count:1},{name:"Kinshasa",color:"yellow",count:1},{name:"Kolkata",color:"black",count:1},{name:"Lagos",color:"yellow",count:1},{name:"Lima",color:"yellow",count:1},{name:"London",color:"blue",count:1},{name:"Los Angeles",color:"yellow",count:1},{name:"Madrid",color:"blue",count:1},{name:"Manila",color:"red",count:1},{name:"Mexico City",color:"yellow",count:1},{name:"Miami",color:"yellow",count:1},{name:"Milan",color:"blue",count:1},{name:"Montr\xe9al",color:"blue",count:1},{name:"Moscow",color:"black",count:1},{name:"Mumbai",color:"black",count:1},{name:"New York",color:"blue",count:1},{name:"Osaka",color:"red",count:1},{name:"Paris",color:"blue",count:1},{name:"Riyadh",color:"black",count:1},{name:"San Francisco",color:"blue",count:1},{name:"Santiago",color:"yellow",count:1},{name:"S\xe3o Paulo",color:"yellow",count:1},{name:"Seoul",color:"red",count:1},{name:"Shanghai",color:"red",count:1},{name:"St. Petersburg",color:"blue",count:1},{name:"Sydney",color:"red",count:1},{name:"Taipei",color:"red",count:1},{name:"Tehran",color:"black",count:1},{name:"Tokyo",color:"red",count:1},{name:"Washington",color:"blue",count:1}]},{name:"Legacy Season 2",config:function(e){var n=e.id;return c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a.Group,{controlId:"init.game-config"},c.a.createElement("span",{className:"text-muted"},"No configuration options.")),c.a.createElement(b,{id:n,config:{}}))},engine:void 0}],g=function(e){var n={discard:{},unseen:{},epidemics:[],removed:{}};return e.forEach((function(e,a){for(var t=0;t<e.count;t++)n.unseen[a]=e.count})),n},p=function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),t=1;t<n;t++)a[t-1]=arguments[t];var c=a.find((function(n){return Object.keys(n).includes(e)}));c[e]--,c[e]<=0&&delete c[e]},v=function(e,n){n[e]||(n[e]=0),n[e]++},h=function(){var e=Object(s.b)("game"),n=Object(l.a)(e,1)[0],a=E[n].cities,t=Object(s.b)("infectionDeck",(function(){return g(a)})),o=Object(l.a)(t,2),r=o[0],m=o[1];if(!r)return m(g(a)),c.a.createElement(c.a.Fragment,null);var d=function(e){!function(e,n){p.apply(void 0,[e].concat(Object(i.a)(n.epidemics),[n.unseen]))}(e,r),v(e,r.discard),m(r)},f=function(e){!function(e,n){p.apply(void 0,[e].concat(Object(i.a)([].concat(Object(i.a)(n.epidemics),[n.unseen]).reverse())))}(e,r),v(e,r.discard),r.epidemics.push(r.discard),r.discard=[],m(r)};return c.a.createElement(u.a,{fluid:!0,className:"main-content"},r.epidemics.map((function(e,n){return c.a.createElement(y,{key:n,name:"Epidemic #".concat(n+1),cities:a,cards:e,infect:d,epidemic:f})})),c.a.createElement(y,{name:"Deck",cities:a,cards:r.unseen,infect:d,epidemic:f}),c.a.createElement(y,{name:"Discard",cities:a,cards:r.discard}),c.a.createElement(y,{name:"Removed from Play",cities:a,cards:r.removed}))},y=function(e){var n=e.name,a=e.cities,t=e.cards,o=e.infect,r=e.epidemic;return!t||Object.entries(t).length<=0?c.a.createElement(c.a.Fragment,null):c.a.createElement("div",{className:"infection-deck-section"},c.a.createElement("h4",null,n),c.a.createElement("hr",null),Object.entries(t).map((function(e){var n=Object(l.a)(e,2),t=n[0],i=n[1];return c.a.createElement(k,{key:t,id:t,city:a[t],count:i,infect:o,epidemic:r})})))},k=function(e){var n=e.id,a=e.city,t=e.count,o=e.infect,r=e.epidemic,l=a.color,i=a.name,u=a.count;return c.a.createElement("div",{className:"d-flex infection-deck-card infection-group-".concat(l)},c.a.createElement("span",{className:"mr-auto p-2"},i),c.a.createElement("span",{className:"p-2"},"[",t,"/",u,"]"),r&&c.a.createElement("span",{className:"p-2"},c.a.createElement(m.a,{variant:"success",size:"xs",onClick:function(){return r(n)}},c.a.createElement(d.a,{size:18}))),o&&c.a.createElement("span",{className:"p-2"},c.a.createElement(m.a,{size:"xs",onClick:function(){return o(n)}},c.a.createElement(d.b,{size:18}))))},O=a(47),j=(a(42),function(){var e=Object(t.useState)(0),n=Object(l.a)(e,2),a=n[0],o=n[1],r=E[a].config;return c.a.createElement(u.a,{fluid:!0,className:"main-content"},c.a.createElement("h3",null,"Start a New Game"),c.a.createElement(f.a,null,c.a.createElement(f.a.Group,{controlId:"init.game-name"},c.a.createElement(f.a.Label,null,"Game Version"),c.a.createElement(f.a.Control,{as:"select",value:a,onChange:function(e){return o(e.target.value)}},E.map((function(e,n){return c.a.createElement("option",{key:n,value:n},e.name)})))),c.a.createElement(r,{id:a})))}),w=function(){var e=Object(t.useState)("/infection"),n=Object(l.a)(e,2),a=n[0],o=n[1],r=Object(s.b)("game"),i=Object(l.a)(r,1)[0],u=Object(s.b)(),b=Object(l.a)(u,2)[1];return i||0===i?c.a.createElement(c.a.Fragment,null,c.a.createElement(O.a,{variant:"tabs",activeKey:a,onSelect:function(e){return o(e)}},c.a.createElement(O.a.Item,null,c.a.createElement(O.a.Link,{eventKey:"/infection"},"Infection")),c.a.createElement(O.a.Item,{className:"mr-auto"},c.a.createElement(O.a.Link,{eventKey:"/player-cards"},"Player Cards")),c.a.createElement(f.a,{inline:!0,className:"nav-buttons"},c.a.createElement(m.a,{variant:"outline-primary",onClick:function(){return window.history.back()}},c.a.createElement(d.d,{size:24})),c.a.createElement(m.a,{variant:"outline-danger",onClick:function(){return b({})}},c.a.createElement(d.e,{size:24})))),"/infection"===a&&c.a.createElement(h,null),"/player-cards"===a&&c.a.createElement("div",null,"todo")):c.a.createElement(j,null)};r.a.render(c.a.createElement((function(){return c.a.createElement(s.a,null,c.a.createElement(w,null))}),null),document.getElementById("root"))},7:function(e,n,a){"use strict";(function(e){a.d(n,"a",(function(){return m})),a.d(n,"b",(function(){return s}));var t=a(10),c=a(18),o=a(6),r=a(1),l=a.n(r),i=function(){var n=window.location.hash;return n?JSON.parse(e.from(n,"base64").toString()):{}},u=Object(r.createContext)(void 0),m=function(e){var n=e.children,a=Object(r.useState)(i()),t=Object(o.a)(a,2),c=t[0],m=t[1];console.log(c);var s=u.Provider;return l.a.createElement(s,{value:[c,m]},n)},s=function(n,a){var l=Object(r.useContext)(u),m=Object(o.a)(l,2),s=m[0],d=m[1],f=function(n){!function(n){window.location.hash=e.from(JSON.stringify(n)).toString("base64")}(n)};Object(r.useEffect)((function(){var e=function(){return d(i())};return window.addEventListener("hashchange",e),function(){return window.removeEventListener("hashchange",e)}}));var b=n?s[n]:s,E=n?function(e){var a=Object(c.a)({},s,Object(t.a)({},n,e));f(a)}:function(e){return f(e)};return[void 0===b&&a?a():b,E]}}).call(this,a(33).Buffer)}},[[26,1,2]]]);
//# sourceMappingURL=main.171cc6db.chunk.js.map