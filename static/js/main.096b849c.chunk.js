(this["webpackJsonppandemic-helper"]=this["webpackJsonppandemic-helper"]||[]).push([[0],{11:function(e,n,a){"use strict";(function(e){a.d(n,"a",(function(){return m})),a.d(n,"b",(function(){return s}));var t=a(21),o=a(29),c=a(6),r=a(1),l=a.n(r),i=function(){var n=window.location.hash;return n?JSON.parse(e.from(n,"base64").toString()):{}},u=Object(r.createContext)(void 0),m=function(e){var n=e.children,a=Object(r.useState)(i()),t=Object(c.a)(a,2),o=t[0],m=t[1];console.log(o);var s=u.Provider;return l.a.createElement(s,{value:[o,m]},n)},s=function(n,a){var l=Object(r.useContext)(u),m=Object(c.a)(l,2),s=m[0],d=m[1],f=function(n){!function(n){window.location.hash=e.from(JSON.stringify(n)).toString("base64")}(n)};Object(r.useEffect)((function(){var e=function(){return d(i())};return window.addEventListener("hashchange",e),function(){return window.removeEventListener("hashchange",e)}}));var p=n?s[n]:s,b=n?function(e){var a=Object(o.a)({},s,Object(t.a)({},n,e));f(a)}:function(e){return f(e)};return[void 0===p&&a?a():p,b]}}).call(this,a(42).Buffer)},35:function(e,n,a){e.exports=a(54)},40:function(e,n,a){},54:function(e,n,a){"use strict";a.r(n);var t=a(1),o=a.n(t),c=a(13),r=a.n(c),l=(a(40),a(41),a(6)),i=a(58),u=a(11),m=a(60),s=a(61),d=a(7),f=function(e){var n=e.id,a=e.config,t=Object(u.b)(),c=Object(l.a)(t,2)[1];return o.a.createElement(m.a.Group,{controlId:"init.save-config"},o.a.createElement(s.a,{variant:"success",type:"submit",onClick:function(){return c({game:n,config:a})}},o.a.createElement(d.d,{size:24})," Start"))},p=a(56),b=a(31),g=a(57),E=function(e,n,a){var c=Object(t.useState)(a),r=Object(l.a)(c,2),i=r[0],u=r[1],d=function(){i<n&&u(i+1)},f=function(){i>e&&u(i-1)};return[i,function(){return o.a.createElement(m.a.Group,{as:p.a,controlId:"init.game-config.epidemics"},o.a.createElement(m.a.Label,{column:!0,xs:"8"},"Epidemic Count"),o.a.createElement(b.a,{xs:"4"},o.a.createElement(g.a,{size:"md",className:"mb-3"},o.a.createElement(g.a.Prepend,null,o.a.createElement(s.a,{variant:"outline-secondary",onClick:f,disabled:i===e},"-")),o.a.createElement(m.a.Control,{type:"text",disabled:!0,value:i}),o.a.createElement(g.a.Append,null,o.a.createElement(s.a,{variant:"outline-secondary",onClick:d,disabled:i===n},"+")))))}]},h=[{name:"Vanilla",Config:function(e){var n=e.id,a=E(4,6,5),t=Object(l.a)(a,2),c=t[0],r=t[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(r,null),o.a.createElement(f,{id:n,config:{epidemics:c}}))},cities:[{name:"Algiers",color:"black",count:1},{name:"Atlanta",color:"blue",count:1},{name:"Baghdad",color:"black",count:1},{name:"Bangkok",color:"red",count:1},{name:"Beijing",color:"red",count:1},{name:"Bogot\xe1",color:"yellow",count:1},{name:"Buenos Aires",color:"yellow",count:1},{name:"Cairo",color:"black",count:1},{name:"Chennai",color:"black",count:1},{name:"Chicago",color:"blue",count:1},{name:"Delhi",color:"black",count:1},{name:"Essen",color:"blue",count:1},{name:"Ho Chi Minh City",color:"red",count:1},{name:"Hong Kong",color:"red",count:1},{name:"Istanbul",color:"black",count:1},{name:"Jakarta",color:"red",count:1},{name:"Johannesburg",color:"yellow",count:1},{name:"Karachi",color:"black",count:1},{name:"Khartoum",color:"yellow",count:1},{name:"Kinshasa",color:"yellow",count:1},{name:"Kolkata",color:"black",count:1},{name:"Lagos",color:"yellow",count:1},{name:"Lima",color:"yellow",count:1},{name:"London",color:"blue",count:1},{name:"Los Angeles",color:"yellow",count:1},{name:"Madrid",color:"blue",count:1},{name:"Manila",color:"red",count:1},{name:"Mexico City",color:"yellow",count:1},{name:"Miami",color:"yellow",count:1},{name:"Milan",color:"blue",count:1},{name:"Montr\xe9al",color:"blue",count:1},{name:"Moscow",color:"black",count:1},{name:"Mumbai",color:"black",count:1},{name:"New York",color:"blue",count:1},{name:"Osaka",color:"red",count:1},{name:"Paris",color:"blue",count:1},{name:"Riyadh",color:"black",count:1},{name:"San Francisco",color:"blue",count:1},{name:"Santiago",color:"yellow",count:1},{name:"S\xe3o Paulo",color:"yellow",count:1},{name:"Seoul",color:"red",count:1},{name:"Shanghai",color:"red",count:1},{name:"St. Petersburg",color:"blue",count:1},{name:"Sydney",color:"red",count:1},{name:"Taipei",color:"red",count:1},{name:"Tehran",color:"black",count:1},{name:"Tokyo",color:"red",count:1},{name:"Washington",color:"blue",count:1}]},{name:"Legacy Season 1",Config:function(e){var n=e.id;return o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a.Group,{controlId:"init.game-config"},o.a.createElement("span",{className:"text-muted"},"No configuration options.")),o.a.createElement(f,{id:n,config:{}}))},cities:[{name:"Algiers",color:"black",count:1},{name:"Atlanta",color:"blue",count:1},{name:"Baghdad",color:"black",count:1},{name:"Bangkok",color:"red",count:1},{name:"Beijing",color:"red",count:1},{name:"Bogot\xe1",color:"yellow",count:1},{name:"Buenos Aires",color:"yellow",count:1},{name:"Cairo",color:"black",count:1},{name:"Chennai",color:"black",count:1},{name:"Chicago",color:"blue",count:1},{name:"Delhi",color:"black",count:1},{name:"Essen",color:"blue",count:1},{name:"Ho Chi Minh City",color:"red",count:1},{name:"Hong Kong",color:"red",count:1},{name:"Istanbul",color:"black",count:1},{name:"Jakarta",color:"red",count:1},{name:"Johannesburg",color:"yellow",count:1},{name:"Karachi",color:"black",count:1},{name:"Khartoum",color:"yellow",count:1},{name:"Kinshasa",color:"yellow",count:1},{name:"Kolkata",color:"black",count:1},{name:"Lagos",color:"yellow",count:1},{name:"Lima",color:"yellow",count:1},{name:"London",color:"blue",count:1},{name:"Los Angeles",color:"yellow",count:1},{name:"Madrid",color:"blue",count:1},{name:"Manila",color:"red",count:1},{name:"Mexico City",color:"yellow",count:1},{name:"Miami",color:"yellow",count:1},{name:"Milan",color:"blue",count:1},{name:"Montr\xe9al",color:"blue",count:1},{name:"Moscow",color:"black",count:1},{name:"Mumbai",color:"black",count:1},{name:"New York",color:"blue",count:1},{name:"Osaka",color:"red",count:1},{name:"Paris",color:"blue",count:1},{name:"Riyadh",color:"black",count:1},{name:"San Francisco",color:"blue",count:1},{name:"Santiago",color:"yellow",count:1},{name:"S\xe3o Paulo",color:"yellow",count:1},{name:"Seoul",color:"red",count:1},{name:"Shanghai",color:"red",count:1},{name:"St. Petersburg",color:"blue",count:1},{name:"Sydney",color:"red",count:1},{name:"Taipei",color:"red",count:1},{name:"Tehran",color:"black",count:1},{name:"Tokyo",color:"red",count:1},{name:"Washington",color:"blue",count:1}]},{name:"Legacy Season 2",Config:function(e){var n=e.id,a=E(1,20,5),t=Object(l.a)(a,2),c=t[0],r=t[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(r,null),o.a.createElement(f,{id:n,config:{epidemics:c}}))},cities:[]}],v=a(59),y=a(17),k={blue:"rgba(52, 152, 219, 0.8)",red:"rgba(231, 76, 60, 0.7)",yellow:"rgba(241, 224, 19, 0.6)",black:"rgba(127, 140, 141, 0.8)"},w=Object(y.a)({card:{fontWeight:400,fontSize:"18px",padding:"5px 7px",borderBottom:"1px solid #6b6b6b","& > span":{height:"50px",lineHeight:"34px"},backgroundColor:function(e){return k[e.color]}},extra:{paddingLeft:"0 !important","& button":{paddingLeft:"0 !important",paddingRight:"0 !important"}},extraModalButton:{width:"100%",marginTop:"10px"}}),x=function(e){var n=e.card,a=e.infect,c=e.epidemic,r=e.remove,i=e.unremove,u=e.showEpidemic,m=e.showDraw,f=Object(t.useState)(!1),p=Object(l.a)(f,2),b=p[0],g=p[1],E=function(){return g(!1)},h=n.city,y=n.id,k=n.count,x=h.color,C=h.name,O=h.count,j=w({color:x}),S=function(e){return function(){E(),e(y)}},N=[];a&&!m&&N.push(o.a.createElement(s.a,{className:j.extraModalButton,size:"lg",variant:"primary",onClick:S(a)},o.a.createElement(d.c,{size:26})," Force Draw")),c&&!u&&N.push(o.a.createElement(s.a,{className:j.extraModalButton,size:"lg",variant:"success",onClick:S(c)},o.a.createElement(d.a,{size:26})," Force Epidemic")),r&&N.push(o.a.createElement(s.a,{className:j.extraModalButton,size:"lg",variant:"danger",onClick:S(r)},o.a.createElement(d.i,{size:26})," Remove from Play")),i&&N.push(o.a.createElement(s.a,{className:j.extraModalButton,size:"lg",variant:"primary",onClick:S(i)},o.a.createElement(d.b,{size:26})," Return to Play"));var M=0!==N.length,z=o.a.createElement("span",{className:"mr-auto p-2"},C),B=o.a.createElement("span",{className:"p-2"},o.a.createElement("span",null,k),o.a.createElement("span",{className:"text-muted"}," / "),o.a.createElement("span",{className:"text-muted"},O));return o.a.createElement("div",{className:"d-flex ".concat(j.card)},z,B,m&&a&&o.a.createElement("span",{className:"p-2"},o.a.createElement(s.a,{size:"xs",onClick:function(){return a(y)}},o.a.createElement(d.c,{size:18}))),u&&c&&o.a.createElement("span",{className:"p-2"},o.a.createElement(s.a,{variant:"success",size:"xs",onClick:function(){return c(y)}},o.a.createElement(d.a,{size:18}))),M&&o.a.createElement("span",{className:"p-2 ".concat(j.extra)},o.a.createElement(s.a,{variant:"secondary-outline",size:"xs",onClick:function(){return g(!0)}},o.a.createElement(d.g,{size:18}))),M&&o.a.createElement(v.a,{show:M&&b,onHide:E},o.a.createElement(v.a.Header,{closeButton:!0},o.a.createElement(v.a.Title,null,"Additional Actions")),o.a.createElement(v.a.Body,null,o.a.createElement("div",{className:"d-flex ".concat(j.card)},z,B),N.map((function(e,n){return o.a.createElement("div",{key:n},e)})))))},C=a(19),O=function(e,n){var a={};return e.forEach((function(e,t){var o=N(t,n);e.count>o&&z(t,a,e.count-o)})),a},j=function(e,n,a){var t=[];return Object.entries(a).forEach((function(a){var o=Object(l.a)(a,2),c=o[0],r=o[1],i=!!n&&0===N(c,n);t.push(S(c,r,i,e[c])),n&&z(c,n)})),t.sort((function(e,n){return e.city.name.localeCompare(n.city.name)})),t},S=function(e,n,a,t){return{city:t,id:e,count:n,first:a}},N=function(e,n){return n[e]||0},M=function(e,n){var a=N(e,n);return a>0&&(a>1?n[e]--:delete n[e],!0)},z=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;N(e,n)<=0&&(n[e]=0),n[e]=n[e]+a},B=function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),t=1;t<n;t++)a[t-1]=arguments[t];a.find((function(n){return M(e,n)}))},L=function(e,n){n[e]||(n[e]=0),n[e]++},A=Object(y.a)({footer:{backgroundColor:"#f3f3f3",height:"60px",lineHeight:"60px",fontSize:"20px",boxSizing:"border-box",borderTop:"1px solid #5f5f5f",position:"fixed",bottom:0,width:"100%"},key:{textAlign:"center",flexGrow:1,padding:"0 15px",borderRight:"1px solid #5f5f5f","& > span":{"&:first-child":{paddingRight:"15px"},"&:last-child":{paddingLeft:"15px"},"& > svg":{marginBottom:"1px"}}},buttons:{padding:"0 15px","& button":{marginRight:"5px","&:last-child":{marginRight:0}}}}),D=function(){var e=Object(u.b)(),n=Object(l.a)(e,2)[1],a=A();return o.a.createElement("div",{className:"d-flex ".concat(a.footer)},o.a.createElement("span",{className:"mr-auto text-muted ".concat(a.key)},o.a.createElement("span",null,o.a.createElement(d.c,{size:20})," Infect"),"|",o.a.createElement("span",null,o.a.createElement(d.a,{size:20})," Epidemic")),o.a.createElement("span",{className:a.buttons},o.a.createElement(s.a,{variant:"outline-primary",onClick:function(){return window.history.back()}},o.a.createElement(d.e,{size:24})),o.a.createElement(s.a,{variant:"outline-danger",onClick:function(){return n({})}},o.a.createElement(d.h,{size:24})),o.a.createElement(s.a,{variant:"outline-primary",onClick:function(){return window.history.forward()}},o.a.createElement(d.f,{size:24}))))},P=Object(y.a)({content:{padding:"0 0 ".concat("60px"," 0")},sectionTitle:{padding:"25px 15px",margin:0,borderBottom:"1px solid #5f5f5f"}}),T=function(){var e=P(),n=Object(u.b)("game"),a=Object(l.a)(n,1)[0],t=h[a].cities,c=Object(u.b)("infectionDeck",(function(){return{epidemics:[],discard:{},removed:{}}})),r=Object(l.a)(c,2),m=r[0],s=r[1],d=function(e,n){var a={},t={};t.epidemics=e.epidemics.slice(0).reverse().map((function(e){return j(n,a,e)})),t.discard=j(n,a,e.discard),t.removed=j(n,a,e.removed);var o=O(n,a);return t.unseen=j(n,null,o),{explodedDeck:t,missingSection:o}}(m,t),f=d.explodedDeck,p=d.missingSection,b=function(e){!function(e,n,a){B.apply(void 0,[e].concat(Object(C.a)([n].concat(Object(C.a)(a)).reverse())))}(e,p,m.epidemics),L(e,m.discard),s(m)},g=function(e){!function(e,n,a){B.apply(void 0,[e,n].concat(Object(C.a)(a)))}(e,p,m.epidemics),L(e,m.discard),m.epidemics.push(m.discard),m.discard={},s(m)},E=function(e){return function(n){M(n,e),L(n,m.removed),s(m)}};return o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a,{fluid:!0,className:e.content},f.epidemics.map((function(e,n){return o.a.createElement(K,{key:n,name:"Epidemic #".concat(f.epidemics.length-n),cards:e,infect:b,epidemic:g,remove:E(m.epidemics[m.epidemics.length-1-n]),showEpidemic:!1,showDraw:0===f.epidemics.slice(0,n).flatMap((function(e){return e})).length})})),o.a.createElement(K,{name:"Main Deck",cities:t,cards:f.unseen,infect:b,epidemic:g,remove:E(p),showEpidemic:!0,showDraw:0===f.epidemics.flatMap((function(e){return e})).length}),o.a.createElement(K,{name:"Discard",cities:t,cards:f.discard,remove:E(m.discard)}),o.a.createElement(K,{name:"Removed from Play",cities:t,cards:f.removed,unremove:function(e){M(e,m.removed),s(m)}})),o.a.createElement(D,null))},K=function(e){var n=e.name,a=e.cards,t=e.infect,c=e.epidemic,r=e.remove,l=e.unremove,i=e.showEpidemic,u=e.showDraw,m=P();return!a||a.length<=0?o.a.createElement(o.a.Fragment,null):o.a.createElement("div",null,o.a.createElement("h3",{className:m.sectionTitle},n),a.map((function(e,n){return o.a.createElement(x,{key:n,card:e,infect:t,epidemic:c,remove:r,unremove:l,showEpidemic:i,showDraw:u})})))},R=function(){var e=Object(t.useState)(0),n=Object(l.a)(e,2),a=n[0],c=n[1],r=h[a].Config;return o.a.createElement(i.a,{fluid:!0,className:"main-content"},o.a.createElement("h3",null,"Start a New Game"),o.a.createElement(m.a,null,o.a.createElement(m.a.Group,{controlId:"init.game-name"},o.a.createElement(m.a.Label,null,"Game Version"),o.a.createElement(m.a.Control,{as:"select",value:a,onChange:function(e){return c(e.target.value)}},h.map((function(e,n){return o.a.createElement("option",{key:n,value:n},e.name)})))),o.a.createElement(r,{id:a})))},F=function(){var e=Object(u.b)("game"),n=Object(l.a)(e,1)[0];return n||0===n?o.a.createElement(T,null):o.a.createElement(R,null)};r.a.render(o.a.createElement((function(){return o.a.createElement(u.a,null,o.a.createElement(F,null))}),null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.096b849c.chunk.js.map